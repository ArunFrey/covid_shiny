geom_polygon(data = spdf_fortified, aes( x = long, y = lat, group = group), fill="#69b3a2", color="white") +
coord_sf() +
theme_void()
head(spdf_fortified)
gemeinde_shp$
gemeinde_shp$
gemeinde_shp$OBJECTID
gemeinde_shp@data
spdf_fortified2 <- tidy(gemeinde_shp, region = "GEN")
spdf_fortified2
spdf_fortified
age_grp <- readxl::read_xlsx("data/age_grp.xlsx")
age_grp
View(age_grp)
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", col_names = "AGS")
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
age_grp <- readxl::read_xlsx("data/age_grp.xlsx",
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+"))
source('~/Dropbox/2.University/DPhil_Oxford/3.Research/1.Data/R_PROJECTS/Shiny/COVID/wrange.R')
age_grp <- readxl::read_xlsx("data/age_grp.xlsx",
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
age_grp
?read_xlsx
age_grp <- readxl::read_xlsx("data/age_grp.xlsx",
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
age_grp
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
age_grp
View(age_grp)
l
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
age_grp
age_grp["-"] <- NA
age_grp
View(age_grp)
age_grp[ age_grp == "-" ] <- NA
age_grp
View(age_grp)
age_grp <- age_grp %>%
select(starts_with("t_"))
age_grp
# reshape data
age_grp <- age_grp %>%
mutate_at(vars(-name), as.numeric)
# reshape data
age_grp <- age_grp %>%
mutate_at(vars(-"name"), as.numeric)
# reshape data
age_grp <- age_grp %>%
mutate_at(is.numeric)
# wrangle age data
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
# Code "-" as NA
age_grp[ age_grp == "-" ] <- NA
# Select total only
age_grp <- age_grp %>%
select("AGS", "name", starts_with("t_"))
# reshape data
age_grp <- age_grp %>%
mutate_at(is.numeric)
# reshape data
age_grp <- age_grp %>%
mutate_at(vars(-name), as.numeric)
age_grp
# wrangle age data
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
# Code "-" as NA
age_grp[ age_grp == "-" ] <- NA
# Select total only
age_grp <- age_grp %>%
select("AGS", "name", starts_with("t_"))
# reshape data
age_grp <- age_grp %>%
mutate_at(vars(-c(name, AGS)), as.numeric)
age_grp
View(age_grp)
pop_total <- age_grp %>%
select(AGS, t_total)
spdf_fortified <- spdf_fortified %>%
inner_join(pop_total)
spdf_fortified
spdf_fortified <- spdf_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
spdf_fortified
gemeinde_shp
names(gemeinde_shp)
gemeinde_shp@data
head(gemeinde_shp@data)
library(stringr)
?str_pad
str_pad(age_grp$AGS, 5, side = c("right"), pad = "0", )
str_pad(age_grp$AGS, 5, side = c("right"), pad = "0" )
str_pad(age_grp$AGS, 10, side = c("right"), pad = "0" )
library(stingr)
gemeinde_shp <- readOGR(
dsn= "data/VG250_Gemeindegrenzen-shp/" ,
verbose=FALSE
)
# make sure AGS has 12 numbers
age_grp <- age_grp %>%
mutate(AGS = str_pad(AGS, 12, side = c("right"), pad = "0"))
age_grp
# make sure AGS has 12 numbers
age_grp <- age_grp %>%
mutate(AGS = str_pad(AGS, 12, side = c("right"), pad = "0")) %>%
mutate_at(vars(-c(name, AGS)), as.numeric)
pop_total <- age_grp %>%
select(AGS, t_total)
pop_total
pop_total <- age_grp %>%
select(AGS, t_total)
# 'fortify' the data to get a dataframe format required by ggplot2
spdf_fortified <- tidy(gemeinde_shp, region = "AGS")
gemeinde_fortified <- spdf_fortified
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
gemeinde_fortified
gemeinde_fortified$t_total
age_grp
View(age_grp)
View(gemeinde_fortified)
# wrangle age data
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
# Code "-" as NA
age_grp[ age_grp == "-" ] <- NA
# Select total only
age_grp <- age_grp %>%
select("AGS", "name", starts_with("t_"))
# make sure AGS has 12 numbers
age_grp <- age_grp %>%
mutate(AGS = str_pad(AGS, 8, side = c("right"), pad = "0")) %>%
mutate_at(vars(-c(name, AGS)), as.numeric)
pop_total <- age_grp %>%
select(AGS, t_total)
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
gemeinde_fortified
# Plot it
ggplot() +
geom_polygon(data = spdf_fortified,
aes( x = long, y = lat, group = group, fill = t_total), color="white") +
coord_sf() +
theme_void()
gemeinde_fortified
# Plot it
ggplot(data = gemeinde_fortified) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), color="white") +
coord_sf() +
theme_void()
gemeinde_fortified
gemeinde_fortified <- gemeinde_fortified %>% select(-t_total.y)
gemeinde_fortified <- gemeinde_fortified %>% select(-t_total.x)
gemeinde_fortified
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
# Plot it
ggplot(data = gemeinde_fortified) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), color="white") +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:1000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), color="white", size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:10000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), color="white", size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:1000000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), color="white", size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:100000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), color="", size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:100000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:1000000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), size = 0.2) +
coord_sf() +
theme_void()
pop_total
cut(pop_total$t_total quantile(x, 0:4/4), include.lowest= TRUE)
cut(pop_total$t_total quantile, (x, 0:4/4), include.lowest= TRUE)
cut(pop_total$t_total quantile(pop_total$t_total, 0:4/4), include.lowest= TRUE)
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = cut(t_total, 7))
pop_total
age_grp
# wrangle age data
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
# Code "-" as NA
age_grp[ age_grp == "-" ] <- NA
# Select total only
age_grp <- age_grp %>%
select("AGS", "name", starts_with("t_"))
age_grp
# Select only AGS with at least X length
age_grp <- age_grp %>%
filter(nchar("AGS")==8)
# LOAD DATA
gemeinde_shp <- readOGR(
dsn= "data/VG250_Gemeindegrenzen-shp/" ,
verbose=FALSE
)
# 'fortify' the data to get a dataframe format required by ggplot2
gemeinde_fortified <- tidy(gemeinde_shp, region = "AGS")
# wrangle age data
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
# Code "-" as NA
age_grp[ age_grp == "-" ] <- NA
# Select total only
age_grp <- age_grp %>%
select("AGS", "name", starts_with("t_"))
# Select only AGS with at least
# Select only AGS with at least X length
age_grp %>%
filter(nchar(AGS)==8)
# Select only municipalities (AGS with 8 char)
age_grp <- age_grp %>%
filter(nchar(AGS)==8) %>%
select("AGS", "name", starts_with("t_"))
# Select only municipalities (AGS with 8 char)
age_grp <- age_grp %>%
filter(nchar(AGS)==8) %>%
select("AGS", "name", starts_with("t_")) %>%
mutate_at(vars(-c(name, AGS)), as.numeric)
age_grp
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = cut(t_total, 7))
gemeinde_fortified
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
gemeinde_fortified
gemeinde_fortified
age_grp
View(age_grp)
# Plot it
ggplot(data = gemeinde_fortified[1:10000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:1000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), size = 0.2) +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified[1:1000000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = t_total), size = 0.2) +
coord_sf() +
theme_void()
# wrangle age data
age_grp <- readxl::read_xlsx("data/age_grp.xlsx", skip = 7,
col_names = c("AGS", "name", "t_less3",
"t_3_6", "t_6_10", "t_10_15", "t_15_18",
"t_18_20", "t_20_25", "t_25_30", "t_30_35",
"t_35_40", "t_40_45", "t_45_50", "t_50_55",
"t_55_60", "t_60_65", "t_65_75", "t_75+", "t_total",
"m_less3",
"m_3_6", "m_6_10", "m_10_15", "m_15_18",
"m_18_20", "m_20_25", "m_25_30", "m_30_35",
"m_35_40", "m_40_45", "m_45_50", "m_50_55",
"m_55_60", "m_60_65", "m_65_75", "m_75+", "m_total",
"w_less3",
"w_3_6", "w_6_10", "w_10_15", "w_15_18",
"w_18_20", "w_20_25", "w_25_30", "w_30_35",
"w_35_40", "w_40_45", "w_45_50", "w_50_55",
"w_55_60", "w_60_65", "w_65_75", "w_75+", "w_total"))
# Code "-" as NA
age_grp[ age_grp == "-" ] <- NA
# Select total only
age_grp <- age_grp %>%
select("AGS", "name", starts_with("t_"))
age_grp <- age_grp %>%
mutate(AGS = str_pad(AGS, 8, side = c("right"), pad = "0")) %>%
select("AGS", "name", starts_with("t_")) %>%
mutate_at(vars(-c(name, AGS)), as.numeric)
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = cut(t_total, 7))
gemeinde_fortified
gemeinde_fortified <- gemeinde_fortified %>% select(-t_total, -pop_cut)
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
# Plot it
ggplot(data = gemeinde_fortified[1:1000000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = pop_cut), size = 0.2) +
coord_sf() +
theme_void()
pop_total
cut(age_grp$t_total, 7))
cut(age_grp$t_total, 7)
unique(cut(age_grp$t_total, 7))
hist(age_grp$t_total)
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = Hmisc::cut2(t_total, 7))
pop_total
table(pop_total$pop_cut)
table(cut2(age_grp$t_total, g=10))
table(Hmisc::cut2(age_grp$t_total, g=10))
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = Hmisc::cut2(t_total, g=10))
pop_total
gemeinde_fortified
gemeinde_fortified <- gemeinde_fortified %>% select(-t_total, -pop_cut)
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
gemeinde_fortified
# Plot it
ggplot(data = gemeinde_fortified[1:10000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = pop_cut), size = 0.2) +
coord_sf() +
theme_void()
library(RColorBrewer)
# Plot it
ggplot(data = gemeinde_fortified[1:10000, ]) +
geom_polygon(aes( x = long, y = lat, group = group, fill = pop_cut), size = 0.2) +
scale_fill_brewer(palette = "Reds") +
coord_sf() +
theme_void()
# Plot it
ggplot(data = gemeinde_fortified) +
geom_polygon(aes( x = long, y = lat, group = group, fill = pop_cut), size = 0.2) +
scale_fill_brewer(palette = "Reds") +
coord_sf() +
theme_void()
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = Hmisc::cut2(t_total, g=9))
pop_total <- age_grp %>%
select(AGS, t_total) %>%
mutate(pop_cut = Hmisc::cut2(t_total, g=9))
gemeinde_fortified <- gemeinde_fortified %>%
select(-pop_total, -pop_cut)
gemeinde_fortified
gemeinde_fortified <- gemeinde_fortified %>%
select(-t_total, -pop_cut)
gemeinde_fortified <- gemeinde_fortified %>%
left_join(. , pop_total, by=c("id"="AGS"))
gemeinde_fortified
# Plot it
ggplot(data = gemeinde_fortified) +
geom_polygon(aes( x = long, y = lat, group = group, fill = pop_cut), size = 0.2) +
scale_fill_brewer(palette = "Reds") +
coord_sf() +
theme_void()
